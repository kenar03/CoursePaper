###############################################################################
#
# IAR ANSI C/C++ Compiler V9.30.1.335/W64 for ARM         01/May/2025  20:41:17
# Copyright 1999-2022 IAR Systems AB.
#
#    Cpu mode                     =  thumb
#    Endian                       =  little
#    Source file                  =
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\Leds\LedCalculator.cpp
#        [UTF-8]
#    Command line                 =
#        -f
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Debug\Obj\Application\Leds\LedCalculator.o.rsp
#        (D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\Leds\LedCalculator.cpp
#        -lC
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Debug\List\Application\Leds
#        -lA
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Debug\List\Application\Leds
#        -o
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Debug\Obj\Application\Leds
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M4 -e --fpu=VFPv4_sp --dlib_config
#        D:\Games\Programs\IAR\arm\inc\c\DLib_Config_Normal.h -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Rtos\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Rtos\wrapper\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Rtos\wrapper\FreeRtos\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Rtos\FreeRtos\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Rtos\FreeRtos\include\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Rtos\FreeRtos\portable\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Rtos\FreeRtos\portable\Common\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Rtos\FreeRtos\portable\IAR\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Rtos\FreeRtos\portable\IAR\ARM_CM4F\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Rtos\FreeRtos\portable\MemMang\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\MyTasks\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Common\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\CMSIS\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\Diagnostic\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\AHardware\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\AHardware\GpioPort\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\AHardware\IrqController\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\..\CortexLib\AbstractHardware\Pin\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\..\CortexLib\AbstractHardware\Registers\STM32F411\FieldValues\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\..\CortexLib\AbstractHardware\Registers\STM32F411\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\..\CortexLib\AbstractHardware\Registers\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\..\CortexLib\AbstractHardware\Port\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\..\CortexLib\AbstractHardware\Atomic\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\..\CortexLib\Common\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\..\CortexLib\Common\Singleton\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\..\CortexLib\Common\RomObject\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\AdcDmaDataProvider\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\AdcDmaDataProvider\Contracts\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\DataRepository\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\DataRepository\Contracts\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\DigitalFilter\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\DigitalFilter\Contracts\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\Formatter\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\Formatter\Contracts\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\Leds\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\Leds\Contracts\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\Usart\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\Usart\Contracts\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\Voltage\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\Voltage\Contracts\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Tasks\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Tasks\Contracts\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\..\CortexLib\AbstractHardware\Registers\CortexM4\
#        -I
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\..\CortexLib\AbstractHardware\Registers\CortexM4\FieldValues\
#        -On --c++ --no_exceptions --no_rtti --source_encoding utf8 --text_out
#        utf8 --utf8_text_in) --dependencies=n
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Debug\Obj\Application\Leds\LedCalculator.o.d
#    Locale                       =  C
#    List file                    =
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Debug\List\Application\Leds\LedCalculator.lst
#    Object file                  =
#        D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Debug\Obj\Application\Leds\LedCalculator.o
#    Runtime model:                  
#      __CPP_Exceptions           =  Disabled
#      __CPP_Language             =  C++14
#      __CPP_Library              =  DLib
#      __CPP_Runtime              =  1
#      __SystemLibrary            =  DLib
#      __dlib_full_locale_support =  0
#      __dlib_version             =  6
#
###############################################################################

D:\Documents\Other\Homework\Kolodiy\CoursePaper\source\RtosWrapper\Application\Leds\LedCalculator.cpp
      1          #include "LedCalculator.hpp" // for LedCalculator

   \                                 In section .text, align 2
   \   __vfp ILedCalculator::subobject ILedCalculator() noexcept
   \                     _ZN14ILedCalculatorC2Ev: (+1)
   \        0x0   0xB510             PUSH     {R4,LR}
   \        0x2   0x0004             MOVS     R4,R0
   \        0x4   0x0020             MOVS     R0,R4
   \        0x6   0x.... 0x....      BL       _ZN14ILedCalculatorC1Ev
   \        0xA   0xBD10             POP      {R4,PC}

   \                                 In section .text, align 2
   \   __vfp ILedCalculator::ILedCalculator() noexcept
   \                     _ZN14ILedCalculatorC1Ev: (+1)
   \        0x0   0x4770             BX       LR
      2          #include <cmath> // for ceil
      3          

   \                                 In section .text, align 2, keep-with-next
   \   __vfp LedCalculator::subobject LedCalculator(uint8_t const &, float const &)
   \                     _ZN13LedCalculatorC2ERKhRKf: (+1)
   \        0x0   0xB510             PUSH     {R4,LR}
   \        0x2   0x0004             MOVS     R4,R0
   \        0x4   0x0020             MOVS     R0,R4
   \        0x6   0x.... 0x....      BL       _ZN13LedCalculatorC1ERKhRKf
   \        0xA   0xBD10             POP      {R4,PC}

   \                                 In section .text, align 2, keep-with-next
      4          LedCalculator::LedCalculator(const uint8_t& maxLedAmount, const float& maxVoltage) : mMaxLedAmount(maxLedAmount), mVref(maxVoltage)
      5          {}
   \                     _ZN13LedCalculatorC1ERKhRKf: (+1)
   \        0x0   0xB570             PUSH     {R4-R6,LR}
   \        0x2   0x0004             MOVS     R4,R0
   \        0x4   0x000D             MOVS     R5,R1
   \        0x6   0x0016             MOVS     R6,R2
   \        0x8   0x0020             MOVS     R0,R4
   \        0xA   0x.... 0x....      BL       _ZN14ILedCalculatorC2Ev
   \        0xE   0x....             LDR.N    R0,??DataTable1
   \       0x10   0x6020             STR      R0,[R4, #+0]
   \       0x12   0x6065             STR      R5,[R4, #+4]
   \       0x14   0x60A6             STR      R6,[R4, #+8]
   \       0x16   0x0020             MOVS     R0,R4
   \       0x18   0xBD70             POP      {R4-R6,PC}
      6          

   \                                 In section .text, align 2, keep-with-next
      7          uint8_t LedCalculator::Calculate(float adcVoltage)
      8          {
   \                     _ZN13LedCalculator9CalculateEf: (+1)
   \        0x0   0x0001             MOVS     R1,R0
      9            uint8_t ledAmount = static_cast<uint8_t>((adcVoltage * mMaxLedAmount) / mVref);
   \        0x2   0x6848             LDR      R0,[R1, #+4]
   \        0x4   0x7800             LDRB     R0,[R0, #+0]
   \        0x6   0xEE00 0x0A90      VMOV     S1,R0
   \        0xA   0xEEF8 0x0A60      VCVT.F32.U32 S1,S1
   \        0xE   0xEE60 0x0A80      VMUL.F32 S1,S1,S0
   \       0x12   0x6888             LDR      R0,[R1, #+8]
   \       0x14   0xED90 0x1A00      VLDR     S2,[R0, #0]
   \       0x18   0xEEC0 0x0A81      VDIV.F32 S1,S1,S2
   \       0x1C   0xEEFD 0x0AE0      VCVT.S32.F32 S1,S1
   \       0x20   0xEE10 0x0A90      VMOV     R0,S1
     10            if (ledAmount > mMaxLedAmount)
   \       0x24   0x684A             LDR      R2,[R1, #+4]
   \       0x26   0x7812             LDRB     R2,[R2, #+0]
   \       0x28   0x0003             MOVS     R3,R0
   \       0x2A   0xB2DB             UXTB     R3,R3
   \       0x2C   0x429A             CMP      R2,R3
   \       0x2E   0xD202             BCS.N    ??Calculate_0
     11            {
     12              ledAmount = mMaxLedAmount;
   \       0x30   0x684A             LDR      R2,[R1, #+4]
   \       0x32   0x7812             LDRB     R2,[R2, #+0]
   \       0x34   0x0010             MOVS     R0,R2
     13            }
     14            return ledAmount;
   \                     ??Calculate_0: (+1)
   \       0x36   0xB2C0             UXTB     R0,R0
   \       0x38   0x4770             BX       LR
     15          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1:
   \        0x0   0x....'....        DC32     _ZTV13LedCalculator+0x8

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   ILedCalculator::ILedCalculator() noexcept
       8   ILedCalculator::subobject ILedCalculator() noexcept
         8   -> ILedCalculator::ILedCalculator() noexcept
       0   LedCalculator::Calculate(float)
      16   LedCalculator::LedCalculator(uint8_t const &, float const &)
        16   -> ILedCalculator::subobject ILedCalculator() noexcept
       8   LedCalculator::subobject LedCalculator(uint8_t const &, float const &)
         8   -> LedCalculator::LedCalculator(uint8_t const &, float const &)


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable1
       2  ILedCalculator::ILedCalculator() noexcept
      12  ILedCalculator::subobject ILedCalculator() noexcept
      58  LedCalculator::Calculate(float)
      26  LedCalculator::LedCalculator(uint8_t const &, float const &)
      12  LedCalculator::subobject LedCalculator(uint8_t const &, float const &)
      68  -- Other

 
  68 bytes in section .rodata
 114 bytes in section .text
 
 100 bytes of CODE  memory (+ 14 bytes shared)
   0 bytes of CONST memory (+ 68 bytes shared)

Errors: none
Warnings: none
